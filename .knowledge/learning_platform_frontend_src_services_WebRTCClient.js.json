{"is_source_file": true, "format": "JavaScript", "description": "This file defines a WebRTCClient class which abstracts WebRTC peer connection behavior for an immersive classroom setting. It manages local media, remote participant tracks, signaling via a WebSocket client, and lifecycle events. The class includes methods for starting local media, joining a session, leaving, toggling camera/mic, and handling signaling messages.", "external_files": ["./wsClient", "./logger"], "external_methods": ["wsClient.send", "logger.debug", "logger.warn"], "published": ["createWebRTCClient"], "classes": [{"name": "WebRTCClient", "description": "A class providing an abstraction over WebRTC peer connection management for immersive sessions, incorporating signaling, media handling, and event emission."}], "methods": [{"name": "createWebRTCClient(opts)", "description": "Factory function to instantiate a WebRTCClient with specified options.", "scope": "", "scopeKind": ""}, {"name": "startLocalMedia(constraints = { audio: true, video: { width: 640, height: 360 } })", "description": "Acquires local media streams and emits 'local-stream' event.", "scope": "WebRTCClient", "scopeKind": "class"}, {"name": "join()", "description": "Sets up WebRTC connection, signaling, and joins the classroom session.", "scope": "WebRTCClient", "scopeKind": "class"}, {"name": "leave()", "description": "Leaves the session and cleans up WebRTC and signaling resources.", "scope": "WebRTCClient", "scopeKind": "class"}, {"name": "toggleCamera(on)", "description": "Enables or disables local video track.", "scope": "WebRTCClient", "scopeKind": "class"}, {"name": "toggleMic(on)", "description": "Enables or disables local audio track.", "scope": "WebRTCClient", "scopeKind": "class"}, {"name": "getParticipants()", "description": "Returns current remote participant streams.", "scope": "WebRTCClient", "scopeKind": "class"}, {"name": "_createAndSendOffer()", "scope": "WebRTCClient", "scopeKind": "class", "description": "unavailable"}, {"name": "_handleRemoteAnswer({ sdp })", "scope": "WebRTCClient", "scopeKind": "class", "description": "unavailable"}, {"name": "_handleRemoteIce({ candidate })", "scope": "WebRTCClient", "scopeKind": "class", "description": "unavailable"}, {"name": "_handleRemoteOffer({ from, sdp })", "scope": "WebRTCClient", "scopeKind": "class", "description": "unavailable"}, {"name": "_onWsMessage(evt)", "scope": "WebRTCClient", "scopeKind": "class", "description": "unavailable"}, {"name": "_sendSignal(payload)", "scope": "WebRTCClient", "scopeKind": "class", "description": "unavailable"}, {"name": "constructor()", "scope": "Emitter", "scopeKind": "class", "description": "unavailable"}, {"name": "constructor({ roomId, userId } = {})", "scope": "WebRTCClient", "scopeKind": "class", "description": "unavailable"}, {"name": "emit(evt, payload)", "scope": "Emitter", "scopeKind": "class", "description": "unavailable"}, {"name": "off(evt, handler)", "scope": "Emitter", "scopeKind": "class", "description": "unavailable"}, {"name": "on(event, handler)", "scope": "WebRTCClient", "scopeKind": "class", "description": "unavailable"}, {"name": "on(evt, handler)", "scope": "Emitter", "scopeKind": "class", "description": "unavailable"}], "calls": ["wsClient.send", "this.pc.createOffer", "this.pc.setLocalDescription", "this.pc.setRemoteDescription", "this.pc.createAnswer", "this.pc.addIceCandidate", "navigator.mediaDevices.getUserMedia"], "search-terms": ["WebRTCClient isourcefile", "WebRTC connection management", "signaling with wsClient", "immersive classroom WebRTC"], "state": 2, "file_id": 219, "knowledge_revision": 675, "git_revision": "50eb11f6e40f31c258bb824c33c1f3de5a8a8473", "ctags": [{"_type": "tag", "name": "Emitter", "path": "/home/kavia/workspace/code-generation/eduvantage-immersive-learning-platform-256943-257035/learning_platform_frontend/src/services/WebRTCClient.js", "pattern": "/^class Emitter {$/", "language": "JavaScript", "kind": "class"}, {"_type": "tag", "name": "WebRTCClient", "path": "/home/kavia/workspace/code-generation/eduvantage-immersive-learning-platform-256943-257035/learning_platform_frontend/src/services/WebRTCClient.js", "pattern": "/^export class WebRTCClient {$/", "language": "JavaScript", "kind": "class"}, {"_type": "tag", "name": "_createAndSendOffer", "path": "/home/kavia/workspace/code-generation/eduvantage-immersive-learning-platform-256943-257035/learning_platform_frontend/src/services/WebRTCClient.js", "pattern": "/^  async _createAndSendOffer() {$/", "language": "JavaScript", "kind": "method", "signature": "()", "scope": "WebRTCClient", "scopeKind": "class"}, {"_type": "tag", "name": "_handleRemoteAnswer", "path": "/home/kavia/workspace/code-generation/eduvantage-immersive-learning-platform-256943-257035/learning_platform_frontend/src/services/WebRTCClient.js", "pattern": "/^  async _handleRemoteAnswer({ sdp }) {$/", "language": "JavaScript", "kind": "method", "signature": "({ sdp })", "scope": "WebRTCClient", "scopeKind": "class"}, {"_type": "tag", "name": "_handleRemoteIce", "path": "/home/kavia/workspace/code-generation/eduvantage-immersive-learning-platform-256943-257035/learning_platform_frontend/src/services/WebRTCClient.js", "pattern": "/^  async _handleRemoteIce({ candidate }) {$/", "language": "JavaScript", "kind": "method", "signature": "({ candidate })", "scope": "WebRTCClient", "scopeKind": "class"}, {"_type": "tag", "name": "_handleRemoteOffer", "path": "/home/kavia/workspace/code-generation/eduvantage-immersive-learning-platform-256943-257035/learning_platform_frontend/src/services/WebRTCClient.js", "pattern": "/^  async _handleRemoteOffer({ from, sdp }) {$/", "language": "JavaScript", "kind": "method", "signature": "({ from, sdp })", "scope": "WebRTCClient", "scopeKind": "class"}, {"_type": "tag", "name": "_onWsMessage", "path": "/home/kavia/workspace/code-generation/eduvantage-immersive-learning-platform-256943-257035/learning_platform_frontend/src/services/WebRTCClient.js", "pattern": "/^  async _onWsMessage(evt) {$/", "language": "JavaScript", "kind": "method", "signature": "(evt)", "scope": "WebRTCClient", "scopeKind": "class"}, {"_type": "tag", "name": "_sendSignal", "path": "/home/kavia/workspace/code-generation/eduvantage-immersive-learning-platform-256943-257035/learning_platform_frontend/src/services/WebRTCClient.js", "pattern": "/^  _sendSignal(payload) {$/", "language": "JavaScript", "kind": "method", "signature": "(payload)", "scope": "WebRTCClient", "scopeKind": "class"}, {"_type": "tag", "name": "config", "path": "/home/kavia/workspace/code-generation/eduvantage-immersive-learning-platform-256943-257035/learning_platform_frontend/src/services/WebRTCClient.js", "pattern": "/^    const config = {$/", "language": "JavaScript", "kind": "class", "scope": "WebRTCClient.join", "scopeKind": "class"}, {"_type": "tag", "name": "constructor", "path": "/home/kavia/workspace/code-generation/eduvantage-immersive-learning-platform-256943-257035/learning_platform_frontend/src/services/WebRTCClient.js", "pattern": "/^  constructor() {$/", "language": "JavaScript", "kind": "method", "signature": "()", "scope": "Emitter", "scopeKind": "class"}, {"_type": "tag", "name": "constructor", "path": "/home/kavia/workspace/code-generation/eduvantage-immersive-learning-platform-256943-257035/learning_platform_frontend/src/services/WebRTCClient.js", "pattern": "/^  constructor({ roomId, userId } = {}) {$/", "language": "JavaScript", "kind": "method", "signature": "({ roomId, userId } = {})", "scope": "WebRTCClient", "scopeKind": "class"}, {"_type": "tag", "name": "createWebRTCClient", "path": "/home/kavia/workspace/code-generation/eduvantage-immersive-learning-platform-256943-257035/learning_platform_frontend/src/services/WebRTCClient.js", "pattern": "/^export function createWebRTCClient(opts) {$/", "language": "JavaScript", "kind": "function", "signature": "(opts)"}, {"_type": "tag", "name": "emit", "path": "/home/kavia/workspace/code-generation/eduvantage-immersive-learning-platform-256943-257035/learning_platform_frontend/src/services/WebRTCClient.js", "pattern": "/^  emit(evt, payload) {$/", "language": "JavaScript", "kind": "method", "signature": "(evt, payload)", "scope": "Emitter", "scopeKind": "class"}, {"_type": "tag", "name": "getParticipants", "path": "/home/kavia/workspace/code-generation/eduvantage-immersive-learning-platform-256943-257035/learning_platform_frontend/src/services/WebRTCClient.js", "pattern": "/^  getParticipants() {$/", "language": "JavaScript", "kind": "method", "signature": "()", "scope": "WebRTCClient", "scopeKind": "class"}, {"_type": "tag", "name": "iceServers", "path": "/home/kavia/workspace/code-generation/eduvantage-immersive-learning-platform-256943-257035/learning_platform_frontend/src/services/WebRTCClient.js", "pattern": "/^      iceServers: [$/", "language": "JavaScript", "kind": "property", "scope": "WebRTCClient.join.config", "scopeKind": "class"}, {"_type": "tag", "name": "join", "path": "/home/kavia/workspace/code-generation/eduvantage-immersive-learning-platform-256943-257035/learning_platform_frontend/src/services/WebRTCClient.js", "pattern": "/^  async join() {$/", "language": "JavaScript", "kind": "method", "signature": "()", "scope": "WebRTCClient", "scopeKind": "class"}, {"_type": "tag", "name": "leave", "path": "/home/kavia/workspace/code-generation/eduvantage-immersive-learning-platform-256943-257035/learning_platform_frontend/src/services/WebRTCClient.js", "pattern": "/^  async leave() {$/", "language": "JavaScript", "kind": "method", "signature": "()", "scope": "WebRTCClient", "scopeKind": "class"}, {"_type": "tag", "name": "off", "path": "/home/kavia/workspace/code-generation/eduvantage-immersive-learning-platform-256943-257035/learning_platform_frontend/src/services/WebRTCClient.js", "pattern": "/^  off(evt, handler) {$/", "language": "JavaScript", "kind": "method", "signature": "(evt, handler)", "scope": "Emitter", "scopeKind": "class"}, {"_type": "tag", "name": "on", "path": "/home/kavia/workspace/code-generation/eduvantage-immersive-learning-platform-256943-257035/learning_platform_frontend/src/services/WebRTCClient.js", "pattern": "/^  on(event, handler) {$/", "language": "JavaScript", "kind": "method", "signature": "(event, handler)", "scope": "WebRTCClient", "scopeKind": "class"}, {"_type": "tag", "name": "on", "path": "/home/kavia/workspace/code-generation/eduvantage-immersive-learning-platform-256943-257035/learning_platform_frontend/src/services/WebRTCClient.js", "pattern": "/^  on(evt, handler) {$/", "language": "JavaScript", "kind": "method", "signature": "(evt, handler)", "scope": "Emitter", "scopeKind": "class"}, {"_type": "tag", "name": "startLocalMedia", "path": "/home/kavia/workspace/code-generation/eduvantage-immersive-learning-platform-256943-257035/learning_platform_frontend/src/services/WebRTCClient.js", "pattern": "/^  async startLocalMedia(constraints = { audio: true, video: { width: 640, height: 360 } }) {$/", "language": "JavaScript", "kind": "method", "signature": "(constraints = { audio: true, video: { width: 640, height: 360 } })", "scope": "WebRTCClient", "scopeKind": "class"}, {"_type": "tag", "name": "toggleCamera", "path": "/home/kavia/workspace/code-generation/eduvantage-immersive-learning-platform-256943-257035/learning_platform_frontend/src/services/WebRTCClient.js", "pattern": "/^  async toggleCamera(on) {$/", "language": "JavaScript", "kind": "method", "signature": "(on)", "scope": "WebRTCClient", "scopeKind": "class"}, {"_type": "tag", "name": "toggleMic", "path": "/home/kavia/workspace/code-generation/eduvantage-immersive-learning-platform-256943-257035/learning_platform_frontend/src/services/WebRTCClient.js", "pattern": "/^  async toggleMic(on) {$/", "language": "JavaScript", "kind": "method", "signature": "(on)", "scope": "WebRTCClient", "scopeKind": "class"}], "hash": "da181fc7823824665c7d41461e9356cf", "format-version": 4, "code-base-name": "learning_platform_frontend", "filename": "learning_platform_frontend/src/services/WebRTCClient.js", "fields": [{"name": "iceServers: [", "scope": "WebRTCClient.join.config", "scopeKind": "class", "description": "unavailable"}], "revision_history": [{"675": "50eb11f6e40f31c258bb824c33c1f3de5a8a8473"}]}