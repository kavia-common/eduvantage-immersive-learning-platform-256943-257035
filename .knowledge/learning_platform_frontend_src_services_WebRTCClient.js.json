{"is_source_file": true, "format": "JavaScript", "description": "This file defines a WebRTCClient class that abstracts WebRTC peer connection behavior for an immersive classroom session, including handling local media, signaling via a wsClient, and event management.", "external_files": ["./wsClient", "./logger"], "external_methods": ["wsClient.send", "wsClient.on", "logger.info", "logger.error", "logger.debug", "logger.warn"], "published": ["WebRTCClient", "createWebRTCClient"], "classes": [{"name": "WebRTCClient", "description": "A class managing WebRTC peer connections, signaling, local media, and participant streams in a classroom setting."}], "methods": [{"name": "constructor()", "description": "Initializes a WebRTCClient instance with room and user identifiers, event emitter, and internal state.", "scope": "Emitter", "scopeKind": "class"}, {"name": "on(event, handler)", "description": "Allows subscribing to events emitted by the WebRTCClient instance.", "scope": "WebRTCClient", "scopeKind": "class"}, {"name": "startLocalMedia(constraints = { audio: true, video: { width: 640, height: 360 } })", "description": "Acquires local media streams (audio/video) and emits 'local-stream' event.", "scope": "WebRTCClient", "scopeKind": "class"}, {"name": "join()", "description": "Starts the WebRTC connection process, including peer connection setup, signaling, and local media attachment.", "scope": "WebRTCClient", "scopeKind": "class"}, {"name": "leave()", "description": "Cleans up WebRTC resources and signals departure from the classroom.", "scope": "WebRTCClient", "scopeKind": "class"}, {"name": "toggleCamera(on)", "description": "Enables or disables the local video track.", "scope": "WebRTCClient", "scopeKind": "class"}, {"name": "toggleMic(on)", "description": "Enables or disables the local audio track.", "scope": "WebRTCClient", "scopeKind": "class"}, {"name": "getParticipants()", "description": "Returns a list of current remote participant streams.", "scope": "WebRTCClient", "scopeKind": "class"}, {"name": "_createAndSendOffer()", "description": "Creates and sends a WebRTC offer to initiate peer communication.", "scope": "WebRTCClient", "scopeKind": "class"}, {"name": "_onWsMessage(evt)", "description": "Handles incoming signaling messages from the websocket client.", "scope": "WebRTCClient", "scopeKind": "class"}, {"name": "_handleRemoteOffer({ from, sdp })", "description": "Process remote offers and respond with answers.", "scope": "WebRTCClient", "scopeKind": "class"}, {"name": "_handleRemoteAnswer({ sdp })", "description": "Processes remote answers to set remote descriptions.", "scope": "WebRTCClient", "scopeKind": "class"}, {"name": "_handleRemoteIce({ candidate })", "description": "Adds received ICE candidates to the peer connection.", "scope": "WebRTCClient", "scopeKind": "class"}, {"name": "_sendSignal(payload)", "description": "Sends signaling data via the wsClient.", "scope": "WebRTCClient", "scopeKind": "class"}, {"name": "constructor({ roomId, userId } = {})", "scope": "WebRTCClient", "scopeKind": "class", "description": "unavailable"}, {"name": "createWebRTCClient(opts)", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "emit(evt, payload)", "scope": "Emitter", "scopeKind": "class", "description": "unavailable"}, {"name": "off(evt, handler)", "scope": "Emitter", "scopeKind": "class", "description": "unavailable"}, {"name": "on(evt, handler)", "scope": "Emitter", "scopeKind": "class", "description": "unavailable"}], "calls": ["navigator.mediaDevices.getUserMedia", "this.pc.createOffer", "this.pc.setLocalDescription", "this.pc.setRemoteDescription", "this.pc.createAnswer", "this.pc.addIceCandidate", "wsClient.send", "wsClient.on"], "search-terms": ["WebRTCClient", "signaling", "participant-joined", "localStream", "remoteStreams", "peer connection", "signaling messages", "ICE candidate", "getUserMedia", "WebRTC"], "state": 2, "file_id": 51, "knowledge_revision": 196, "git_revision": "5b1b842b7e2bbc91a4b72bde3efe18721e8f58eb", "revision_history": [{"128": ""}, {"196": "5b1b842b7e2bbc91a4b72bde3efe18721e8f58eb"}], "ctags": [{"_type": "tag", "name": "Emitter", "path": "/home/kavia/workspace/code-generation/eduvantage-immersive-learning-platform-256943-257035/learning_platform_frontend/src/services/WebRTCClient.js", "pattern": "/^class Emitter {$/", "language": "JavaScript", "kind": "class"}, {"_type": "tag", "name": "WebRTCClient", "path": "/home/kavia/workspace/code-generation/eduvantage-immersive-learning-platform-256943-257035/learning_platform_frontend/src/services/WebRTCClient.js", "pattern": "/^export class WebRTCClient {$/", "language": "JavaScript", "kind": "class"}, {"_type": "tag", "name": "_createAndSendOffer", "path": "/home/kavia/workspace/code-generation/eduvantage-immersive-learning-platform-256943-257035/learning_platform_frontend/src/services/WebRTCClient.js", "pattern": "/^  async _createAndSendOffer() {$/", "language": "JavaScript", "kind": "method", "signature": "()", "scope": "WebRTCClient", "scopeKind": "class"}, {"_type": "tag", "name": "_handleRemoteAnswer", "path": "/home/kavia/workspace/code-generation/eduvantage-immersive-learning-platform-256943-257035/learning_platform_frontend/src/services/WebRTCClient.js", "pattern": "/^  async _handleRemoteAnswer({ sdp }) {$/", "language": "JavaScript", "kind": "method", "signature": "({ sdp })", "scope": "WebRTCClient", "scopeKind": "class"}, {"_type": "tag", "name": "_handleRemoteIce", "path": "/home/kavia/workspace/code-generation/eduvantage-immersive-learning-platform-256943-257035/learning_platform_frontend/src/services/WebRTCClient.js", "pattern": "/^  async _handleRemoteIce({ candidate }) {$/", "language": "JavaScript", "kind": "method", "signature": "({ candidate })", "scope": "WebRTCClient", "scopeKind": "class"}, {"_type": "tag", "name": "_handleRemoteOffer", "path": "/home/kavia/workspace/code-generation/eduvantage-immersive-learning-platform-256943-257035/learning_platform_frontend/src/services/WebRTCClient.js", "pattern": "/^  async _handleRemoteOffer({ from, sdp }) {$/", "language": "JavaScript", "kind": "method", "signature": "({ from, sdp })", "scope": "WebRTCClient", "scopeKind": "class"}, {"_type": "tag", "name": "_onWsMessage", "path": "/home/kavia/workspace/code-generation/eduvantage-immersive-learning-platform-256943-257035/learning_platform_frontend/src/services/WebRTCClient.js", "pattern": "/^  async _onWsMessage(evt) {$/", "language": "JavaScript", "kind": "method", "signature": "(evt)", "scope": "WebRTCClient", "scopeKind": "class"}, {"_type": "tag", "name": "_sendSignal", "path": "/home/kavia/workspace/code-generation/eduvantage-immersive-learning-platform-256943-257035/learning_platform_frontend/src/services/WebRTCClient.js", "pattern": "/^  _sendSignal(payload) {$/", "language": "JavaScript", "kind": "method", "signature": "(payload)", "scope": "WebRTCClient", "scopeKind": "class"}, {"_type": "tag", "name": "config", "path": "/home/kavia/workspace/code-generation/eduvantage-immersive-learning-platform-256943-257035/learning_platform_frontend/src/services/WebRTCClient.js", "pattern": "/^    const config = {$/", "language": "JavaScript", "kind": "class", "scope": "WebRTCClient.join", "scopeKind": "class"}, {"_type": "tag", "name": "constructor", "path": "/home/kavia/workspace/code-generation/eduvantage-immersive-learning-platform-256943-257035/learning_platform_frontend/src/services/WebRTCClient.js", "pattern": "/^  constructor() {$/", "language": "JavaScript", "kind": "method", "signature": "()", "scope": "Emitter", "scopeKind": "class"}, {"_type": "tag", "name": "constructor", "path": "/home/kavia/workspace/code-generation/eduvantage-immersive-learning-platform-256943-257035/learning_platform_frontend/src/services/WebRTCClient.js", "pattern": "/^  constructor({ roomId, userId } = {}) {$/", "language": "JavaScript", "kind": "method", "signature": "({ roomId, userId } = {})", "scope": "WebRTCClient", "scopeKind": "class"}, {"_type": "tag", "name": "createWebRTCClient", "path": "/home/kavia/workspace/code-generation/eduvantage-immersive-learning-platform-256943-257035/learning_platform_frontend/src/services/WebRTCClient.js", "pattern": "/^export function createWebRTCClient(opts) {$/", "language": "JavaScript", "kind": "function", "signature": "(opts)"}, {"_type": "tag", "name": "emit", "path": "/home/kavia/workspace/code-generation/eduvantage-immersive-learning-platform-256943-257035/learning_platform_frontend/src/services/WebRTCClient.js", "pattern": "/^  emit(evt, payload) {$/", "language": "JavaScript", "kind": "method", "signature": "(evt, payload)", "scope": "Emitter", "scopeKind": "class"}, {"_type": "tag", "name": "getParticipants", "path": "/home/kavia/workspace/code-generation/eduvantage-immersive-learning-platform-256943-257035/learning_platform_frontend/src/services/WebRTCClient.js", "pattern": "/^  getParticipants() {$/", "language": "JavaScript", "kind": "method", "signature": "()", "scope": "WebRTCClient", "scopeKind": "class"}, {"_type": "tag", "name": "iceServers", "path": "/home/kavia/workspace/code-generation/eduvantage-immersive-learning-platform-256943-257035/learning_platform_frontend/src/services/WebRTCClient.js", "pattern": "/^      iceServers: [$/", "language": "JavaScript", "kind": "property", "scope": "WebRTCClient.join.config", "scopeKind": "class"}, {"_type": "tag", "name": "join", "path": "/home/kavia/workspace/code-generation/eduvantage-immersive-learning-platform-256943-257035/learning_platform_frontend/src/services/WebRTCClient.js", "pattern": "/^  async join() {$/", "language": "JavaScript", "kind": "method", "signature": "()", "scope": "WebRTCClient", "scopeKind": "class"}, {"_type": "tag", "name": "leave", "path": "/home/kavia/workspace/code-generation/eduvantage-immersive-learning-platform-256943-257035/learning_platform_frontend/src/services/WebRTCClient.js", "pattern": "/^  async leave() {$/", "language": "JavaScript", "kind": "method", "signature": "()", "scope": "WebRTCClient", "scopeKind": "class"}, {"_type": "tag", "name": "off", "path": "/home/kavia/workspace/code-generation/eduvantage-immersive-learning-platform-256943-257035/learning_platform_frontend/src/services/WebRTCClient.js", "pattern": "/^  off(evt, handler) {$/", "language": "JavaScript", "kind": "method", "signature": "(evt, handler)", "scope": "Emitter", "scopeKind": "class"}, {"_type": "tag", "name": "on", "path": "/home/kavia/workspace/code-generation/eduvantage-immersive-learning-platform-256943-257035/learning_platform_frontend/src/services/WebRTCClient.js", "pattern": "/^  on(event, handler) {$/", "language": "JavaScript", "kind": "method", "signature": "(event, handler)", "scope": "WebRTCClient", "scopeKind": "class"}, {"_type": "tag", "name": "on", "path": "/home/kavia/workspace/code-generation/eduvantage-immersive-learning-platform-256943-257035/learning_platform_frontend/src/services/WebRTCClient.js", "pattern": "/^  on(evt, handler) {$/", "language": "JavaScript", "kind": "method", "signature": "(evt, handler)", "scope": "Emitter", "scopeKind": "class"}, {"_type": "tag", "name": "startLocalMedia", "path": "/home/kavia/workspace/code-generation/eduvantage-immersive-learning-platform-256943-257035/learning_platform_frontend/src/services/WebRTCClient.js", "pattern": "/^  async startLocalMedia(constraints = { audio: true, video: { width: 640, height: 360 } }) {$/", "language": "JavaScript", "kind": "method", "signature": "(constraints = { audio: true, video: { width: 640, height: 360 } })", "scope": "WebRTCClient", "scopeKind": "class"}, {"_type": "tag", "name": "toggleCamera", "path": "/home/kavia/workspace/code-generation/eduvantage-immersive-learning-platform-256943-257035/learning_platform_frontend/src/services/WebRTCClient.js", "pattern": "/^  async toggleCamera(on) {$/", "language": "JavaScript", "kind": "method", "signature": "(on)", "scope": "WebRTCClient", "scopeKind": "class"}, {"_type": "tag", "name": "toggleMic", "path": "/home/kavia/workspace/code-generation/eduvantage-immersive-learning-platform-256943-257035/learning_platform_frontend/src/services/WebRTCClient.js", "pattern": "/^  async toggleMic(on) {$/", "language": "JavaScript", "kind": "method", "signature": "(on)", "scope": "WebRTCClient", "scopeKind": "class"}], "hash": "6d68f26b6e2b96491d7bb2ea913a6094", "format-version": 4, "code-base-name": "learning_platform_frontend", "filename": "learning_platform_frontend/src/services/WebRTCClient.js", "fields": [{"name": "iceServers: [", "scope": "WebRTCClient.join.config", "scopeKind": "class", "description": "unavailable"}]}