{"is_source_file": true, "format": "JavaScript", "description": "This file defines a service for managing user progress in lessons per course, using localStorage for persistence, with functions for reading, writing, updating, and clearing lesson completion data.", "external_files": ["./logger"], "external_methods": ["logger.warn"], "published": ["progressService"], "classes": [], "methods": [{"name": "safeParse(json, fallback = null)", "description": "Safely parse a JSON string to an object, returning a fallback value on error.", "scope": "", "scopeKind": ""}, {"name": "safeStringify(value)", "description": "Serialize a JavaScript value to JSON, returning null on failure.", "scope": "", "scopeKind": ""}, {"name": "readState()", "description": "Retrieve and normalize the progress state from localStorage.", "scope": "", "scopeKind": ""}, {"name": "writeState(state)", "description": "Persist the normalized progress state to localStorage.", "scope": "", "scopeKind": ""}, {"name": "getCompleted(courseId)", "description": "Get the list of completed lessons for a given course.", "scope": "progressService", "scopeKind": "class"}, {"name": "completeLesson(courseId, lessonId)", "description": "Mark a lesson as completed for a course, ensuring idempotency.", "scope": "progressService", "scopeKind": "class"}, {"name": "clearLesson(courseId, lessonId)", "description": "Remove a lesson from the completed list, e.g., for retaking.", "scope": "progressService", "scopeKind": "class"}, {"name": "clearAll()", "description": "Clear all stored progress data.", "scope": "progressService", "scopeKind": "class"}], "calls": ["JSON.parse", "JSON.stringify", "window.localStorage.getItem", "window.localStorage.setItem", "window.localStorage.removeItem", "logger.warn"], "search-terms": ["localStorage", "progressService", "lesson completion", "progress persistence", "course progress"], "state": 2, "file_id": 119, "knowledge_revision": 392, "git_revision": "", "ctags": [{"_type": "tag", "name": "STORAGE_KEY", "path": "/home/kavia/workspace/code-generation/eduvantage-immersive-learning-platform-256943-257035/learning_platform_frontend/src/services/progressService.js", "pattern": "/^const STORAGE_KEY = \"eduv_progress_v1\";$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "clearAll", "path": "/home/kavia/workspace/code-generation/eduvantage-immersive-learning-platform-256943-257035/learning_platform_frontend/src/services/progressService.js", "pattern": "/^  clearAll() {$/", "language": "JavaScript", "kind": "method", "signature": "()", "scope": "progressService", "scopeKind": "class"}, {"_type": "tag", "name": "clearLesson", "path": "/home/kavia/workspace/code-generation/eduvantage-immersive-learning-platform-256943-257035/learning_platform_frontend/src/services/progressService.js", "pattern": "/^  clearLesson(courseId, lessonId) {$/", "language": "JavaScript", "kind": "method", "signature": "(courseId, lessonId)", "scope": "progressService", "scopeKind": "class"}, {"_type": "tag", "name": "completeLesson", "path": "/home/kavia/workspace/code-generation/eduvantage-immersive-learning-platform-256943-257035/learning_platform_frontend/src/services/progressService.js", "pattern": "/^  completeLesson(courseId, lessonId) {$/", "language": "JavaScript", "kind": "method", "signature": "(courseId, lessonId)", "scope": "progressService", "scopeKind": "class"}, {"_type": "tag", "name": "completed", "path": "/home/kavia/workspace/code-generation/eduvantage-immersive-learning-platform-256943-257035/learning_platform_frontend/src/services/progressService.js", "pattern": "/^      out[cid] = { completed: Array.from(new Set(arr.filter((x) => typeof x === \"string\"))) };$/", "language": "JavaScript", "kind": "property", "scope": "readState.out", "scopeKind": "class"}, {"_type": "tag", "name": "completed", "path": "/home/kavia/workspace/code-generation/eduvantage-immersive-learning-platform-256943-257035/learning_platform_frontend/src/services/progressService.js", "pattern": "/^    normalized[cid] = { completed: Array.from(new Set(arr.filter((x) => typeof x === \"string\")))/", "language": "JavaScript", "kind": "property", "scope": "writeState.normalized", "scopeKind": "class"}, {"_type": "tag", "name": "getCompleted", "path": "/home/kavia/workspace/code-generation/eduvantage-immersive-learning-platform-256943-257035/learning_platform_frontend/src/services/progressService.js", "pattern": "/^  getCompleted(courseId) {$/", "language": "JavaScript", "kind": "method", "signature": "(courseId)", "scope": "progressService", "scopeKind": "class"}, {"_type": "tag", "name": "key", "path": "/home/kavia/workspace/code-generation/eduvantage-immersive-learning-platform-256943-257035/learning_platform_frontend/src/services/progressService.js", "pattern": "/^  key: STORAGE_KEY,$/", "language": "JavaScript", "kind": "property", "scope": "progressService", "scopeKind": "class"}, {"_type": "tag", "name": "normalized", "path": "/home/kavia/workspace/code-generation/eduvantage-immersive-learning-platform-256943-257035/learning_platform_frontend/src/services/progressService.js", "pattern": "/^    normalized[cid] = { completed: Array.from(new Set(arr.filter((x) => typeof x === \"string\")))/", "language": "JavaScript", "kind": "class", "scope": "writeState", "scopeKind": "class"}, {"_type": "tag", "name": "out", "path": "/home/kavia/workspace/code-generation/eduvantage-immersive-learning-platform-256943-257035/learning_platform_frontend/src/services/progressService.js", "pattern": "/^      out[cid] = { completed: Array.from(new Set(arr.filter((x) => typeof x === \"string\"))) };$/", "language": "JavaScript", "kind": "class", "scope": "readState", "scopeKind": "class"}, {"_type": "tag", "name": "progressService", "path": "/home/kavia/workspace/code-generation/eduvantage-immersive-learning-platform-256943-257035/learning_platform_frontend/src/services/progressService.js", "pattern": "/^export const progressService = {$/", "language": "JavaScript", "kind": "class"}, {"_type": "tag", "name": "readState", "path": "/home/kavia/workspace/code-generation/eduvantage-immersive-learning-platform-256943-257035/learning_platform_frontend/src/services/progressService.js", "pattern": "/^function readState() {$/", "language": "JavaScript", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "safeParse", "path": "/home/kavia/workspace/code-generation/eduvantage-immersive-learning-platform-256943-257035/learning_platform_frontend/src/services/progressService.js", "pattern": "/^function safeParse(json, fallback = null) {$/", "language": "JavaScript", "kind": "function", "signature": "(json, fallback = null)"}, {"_type": "tag", "name": "safeStringify", "path": "/home/kavia/workspace/code-generation/eduvantage-immersive-learning-platform-256943-257035/learning_platform_frontend/src/services/progressService.js", "pattern": "/^function safeStringify(value) {$/", "language": "JavaScript", "kind": "function", "signature": "(value)"}, {"_type": "tag", "name": "writeState", "path": "/home/kavia/workspace/code-generation/eduvantage-immersive-learning-platform-256943-257035/learning_platform_frontend/src/services/progressService.js", "pattern": "/^function writeState(state) {$/", "language": "JavaScript", "kind": "function", "signature": "(state)"}], "hash": "74780d485a651e951df96b59f339e097", "format-version": 4, "code-base-name": "learning_platform_frontend", "filename": "learning_platform_frontend/src/services/progressService.js", "fields": [{"name": "out[cid] = { completed: Array.from(new Set(arr.filter((x) => typeof x === \"string\"))) };", "scope": "readState.out", "scopeKind": "class", "description": "unavailable"}, {"name": "normalized[cid] = { completed: Array.from(new Set(arr.filter((x) => typeof x === \"string\")))/", "scope": "writeState.normalized", "scopeKind": "class", "description": "unavailable"}, {"name": "key: STORAGE_KEY,", "scope": "progressService", "scopeKind": "class", "description": "unavailable"}], "revision_history": [{"392": ""}]}