{"is_source_file": true, "format": "JavaScript", "description": "This file provides a JavaScript module named `enrollmentService` that manages client-side enrollment data for courses. It uses localStorage for persistence, with functions to get, add, remove, and clear enrollments, while ensuring data integrity and avoiding duplicates. It also handles JSON parsing/stringifying safely and logs warnings on errors.", "external_files": ["./logger"], "external_methods": ["logger.warn"], "published": ["enrollmentService"], "classes": [], "methods": [{"name": "getAll()", "description": "Returns an array of all enrolled course IDs by reading from localStorage.", "scope": "enrollmentService", "scopeKind": "class"}, {"name": "isEnrolled(courseId)", "description": "Checks if a specific course ID is currently enrolled.", "scope": "enrollmentService", "scopeKind": "class"}, {"name": "enroll(courseId)", "description": "Enrolls into a course by ID, adding to localStorage if not already enrolled.", "scope": "enrollmentService", "scopeKind": "class"}, {"name": "unenroll(courseId)", "description": "Removes a course ID from enrollments if present.", "scope": "enrollmentService", "scopeKind": "class"}, {"name": "clear()", "description": "Clears all enrollment data from localStorage, primarily for testing.", "scope": "enrollmentService", "scopeKind": "class"}, {"name": "readState()", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "safeParse(json, fallback = null)", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "safeStringify(value)", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "writeState(state)", "scope": "", "scopeKind": "", "description": "unavailable"}], "calls": ["window.localStorage.getItem", "window.localStorage.setItem", "window.localStorage.removeItem", "JSON.parse", "JSON.stringify", "logger.warn"], "search-terms": ["localStorage enrollment", "persistent course enrollment", "enrollmentService", "local persistence for course IDs", "enrollment management JavaScript"], "state": 2, "file_id": 118, "knowledge_revision": 390, "git_revision": "", "ctags": [{"_type": "tag", "name": "STORAGE_KEY", "path": "/home/kavia/workspace/code-generation/eduvantage-immersive-learning-platform-256943-257035/learning_platform_frontend/src/services/enrollmentService.js", "pattern": "/^const STORAGE_KEY = \"eduv_enrollments_v1\";$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "clear", "path": "/home/kavia/workspace/code-generation/eduvantage-immersive-learning-platform-256943-257035/learning_platform_frontend/src/services/enrollmentService.js", "pattern": "/^  clear() {$/", "language": "JavaScript", "kind": "method", "signature": "()", "scope": "enrollmentService", "scopeKind": "class"}, {"_type": "tag", "name": "enroll", "path": "/home/kavia/workspace/code-generation/eduvantage-immersive-learning-platform-256943-257035/learning_platform_frontend/src/services/enrollmentService.js", "pattern": "/^  enroll(courseId) {$/", "language": "JavaScript", "kind": "method", "signature": "(courseId)", "scope": "enrollmentService", "scopeKind": "class"}, {"_type": "tag", "name": "enrolled", "path": "/home/kavia/workspace/code-generation/eduvantage-immersive-learning-platform-256943-257035/learning_platform_frontend/src/services/enrollmentService.js", "pattern": "/^  const normalized = { enrolled: Array.from(new Set((state?.enrolled || []).filter((x) => typeof/", "language": "JavaScript", "kind": "property", "scope": "writeState.normalized", "scopeKind": "class"}, {"_type": "tag", "name": "enrollmentService", "path": "/home/kavia/workspace/code-generation/eduvantage-immersive-learning-platform-256943-257035/learning_platform_frontend/src/services/enrollmentService.js", "pattern": "/^export const enrollmentService = {$/", "language": "JavaScript", "kind": "class"}, {"_type": "tag", "name": "getAll", "path": "/home/kavia/workspace/code-generation/eduvantage-immersive-learning-platform-256943-257035/learning_platform_frontend/src/services/enrollmentService.js", "pattern": "/^  getAll() {$/", "language": "JavaScript", "kind": "method", "signature": "()", "scope": "enrollmentService", "scopeKind": "class"}, {"_type": "tag", "name": "isEnrolled", "path": "/home/kavia/workspace/code-generation/eduvantage-immersive-learning-platform-256943-257035/learning_platform_frontend/src/services/enrollmentService.js", "pattern": "/^  isEnrolled(courseId) {$/", "language": "JavaScript", "kind": "method", "signature": "(courseId)", "scope": "enrollmentService", "scopeKind": "class"}, {"_type": "tag", "name": "key", "path": "/home/kavia/workspace/code-generation/eduvantage-immersive-learning-platform-256943-257035/learning_platform_frontend/src/services/enrollmentService.js", "pattern": "/^  key: STORAGE_KEY,$/", "language": "JavaScript", "kind": "property", "scope": "enrollmentService", "scopeKind": "class"}, {"_type": "tag", "name": "normalized", "path": "/home/kavia/workspace/code-generation/eduvantage-immersive-learning-platform-256943-257035/learning_platform_frontend/src/services/enrollmentService.js", "pattern": "/^  const normalized = { enrolled: Array.from(new Set((state?.enrolled || []).filter((x) => typeof/", "language": "JavaScript", "kind": "class", "scope": "writeState", "scopeKind": "class"}, {"_type": "tag", "name": "readState", "path": "/home/kavia/workspace/code-generation/eduvantage-immersive-learning-platform-256943-257035/learning_platform_frontend/src/services/enrollmentService.js", "pattern": "/^function readState() {$/", "language": "JavaScript", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "safeParse", "path": "/home/kavia/workspace/code-generation/eduvantage-immersive-learning-platform-256943-257035/learning_platform_frontend/src/services/enrollmentService.js", "pattern": "/^function safeParse(json, fallback = null) {$/", "language": "JavaScript", "kind": "function", "signature": "(json, fallback = null)"}, {"_type": "tag", "name": "safeStringify", "path": "/home/kavia/workspace/code-generation/eduvantage-immersive-learning-platform-256943-257035/learning_platform_frontend/src/services/enrollmentService.js", "pattern": "/^function safeStringify(value) {$/", "language": "JavaScript", "kind": "function", "signature": "(value)"}, {"_type": "tag", "name": "unenroll", "path": "/home/kavia/workspace/code-generation/eduvantage-immersive-learning-platform-256943-257035/learning_platform_frontend/src/services/enrollmentService.js", "pattern": "/^  unenroll(courseId) {$/", "language": "JavaScript", "kind": "method", "signature": "(courseId)", "scope": "enrollmentService", "scopeKind": "class"}, {"_type": "tag", "name": "writeState", "path": "/home/kavia/workspace/code-generation/eduvantage-immersive-learning-platform-256943-257035/learning_platform_frontend/src/services/enrollmentService.js", "pattern": "/^function writeState(state) {$/", "language": "JavaScript", "kind": "function", "signature": "(state)"}], "hash": "f690f5702d4b205fe6df5786c11f8b32", "format-version": 4, "code-base-name": "learning_platform_frontend", "filename": "learning_platform_frontend/src/services/enrollmentService.js", "fields": [{"name": "const normalized = { enrolled: Array.from(new Set((state?.enrolled || []).filter((x) => typeof/", "scope": "writeState.normalized", "scopeKind": "class", "description": "unavailable"}, {"name": "key: STORAGE_KEY,", "scope": "enrollmentService", "scopeKind": "class", "description": "unavailable"}], "revision_history": [{"390": ""}]}