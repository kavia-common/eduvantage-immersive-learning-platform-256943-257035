{"is_source_file": true, "format": "JavaScript", "description": "This file provides a service for managing course enrollments using localStorage. It includes functions for retrieving, adding, removing, and clearing enrolled course IDs, with JSON safety guards and logging for errors.", "external_files": ["./logger"], "external_methods": ["logger.warn"], "published": ["enrollmentService"], "classes": [], "methods": [{"name": "safeParse(json, fallback = null)", "description": "Safely parse a JSON string, returning a fallback value on error.", "scope": "", "scopeKind": ""}, {"name": "safeStringify(value)", "description": "Safely convert a JavaScript object to a JSON string, returning null on error.", "scope": "", "scopeKind": ""}, {"name": "readState()", "description": "Read and parse the enrollment state from localStorage, ensuring data integrity.", "scope": "", "scopeKind": ""}, {"name": "writeState(state)", "description": "Serialize and save the enrollment state to localStorage.", "scope": "", "scopeKind": ""}, {"name": "clear()", "scope": "enrollmentService", "scopeKind": "class", "description": "unavailable"}, {"name": "enroll(courseId)", "scope": "enrollmentService", "scopeKind": "class", "description": "unavailable"}, {"name": "getAll()", "scope": "enrollmentService", "scopeKind": "class", "description": "unavailable"}, {"name": "isEnrolled(courseId)", "scope": "enrollmentService", "scopeKind": "class", "description": "unavailable"}, {"name": "unenroll(courseId)", "scope": "enrollmentService", "scopeKind": "class", "description": "unavailable"}], "calls": ["JSON.parse", "JSON.stringify", "window.localStorage.getItem", "window.localStorage.setItem", "window.localStorage.removeItem", "logger.warn"], "search-terms": ["enrollmentService", "localStorage", "enroll", "unenroll", "getAll", "isEnrolled"], "state": 2, "file_id": 210, "knowledge_revision": 666, "git_revision": "2f4862c7f835bf489be01e6a2ea5fc0651a81452", "ctags": [{"_type": "tag", "name": "STORAGE_KEY", "path": "/home/kavia/workspace/code-generation/eduvantage-immersive-learning-platform-256943-257035/learning_platform_frontend/src/services/enrollmentService.js", "pattern": "/^const STORAGE_KEY = \"eduv_enrollments_v1\";$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "clear", "path": "/home/kavia/workspace/code-generation/eduvantage-immersive-learning-platform-256943-257035/learning_platform_frontend/src/services/enrollmentService.js", "pattern": "/^  clear() {$/", "language": "JavaScript", "kind": "method", "signature": "()", "scope": "enrollmentService", "scopeKind": "class"}, {"_type": "tag", "name": "enroll", "path": "/home/kavia/workspace/code-generation/eduvantage-immersive-learning-platform-256943-257035/learning_platform_frontend/src/services/enrollmentService.js", "pattern": "/^  enroll(courseId) {$/", "language": "JavaScript", "kind": "method", "signature": "(courseId)", "scope": "enrollmentService", "scopeKind": "class"}, {"_type": "tag", "name": "enrolled", "path": "/home/kavia/workspace/code-generation/eduvantage-immersive-learning-platform-256943-257035/learning_platform_frontend/src/services/enrollmentService.js", "pattern": "/^  const normalized = { enrolled: Array.from(new Set((state?.enrolled || []).filter((x) => typeof/", "language": "JavaScript", "kind": "property", "scope": "writeState.normalized", "scopeKind": "class"}, {"_type": "tag", "name": "enrollmentService", "path": "/home/kavia/workspace/code-generation/eduvantage-immersive-learning-platform-256943-257035/learning_platform_frontend/src/services/enrollmentService.js", "pattern": "/^export const enrollmentService = {$/", "language": "JavaScript", "kind": "class"}, {"_type": "tag", "name": "getAll", "path": "/home/kavia/workspace/code-generation/eduvantage-immersive-learning-platform-256943-257035/learning_platform_frontend/src/services/enrollmentService.js", "pattern": "/^  getAll() {$/", "language": "JavaScript", "kind": "method", "signature": "()", "scope": "enrollmentService", "scopeKind": "class"}, {"_type": "tag", "name": "isEnrolled", "path": "/home/kavia/workspace/code-generation/eduvantage-immersive-learning-platform-256943-257035/learning_platform_frontend/src/services/enrollmentService.js", "pattern": "/^  isEnrolled(courseId) {$/", "language": "JavaScript", "kind": "method", "signature": "(courseId)", "scope": "enrollmentService", "scopeKind": "class"}, {"_type": "tag", "name": "key", "path": "/home/kavia/workspace/code-generation/eduvantage-immersive-learning-platform-256943-257035/learning_platform_frontend/src/services/enrollmentService.js", "pattern": "/^  key: STORAGE_KEY,$/", "language": "JavaScript", "kind": "property", "scope": "enrollmentService", "scopeKind": "class"}, {"_type": "tag", "name": "normalized", "path": "/home/kavia/workspace/code-generation/eduvantage-immersive-learning-platform-256943-257035/learning_platform_frontend/src/services/enrollmentService.js", "pattern": "/^  const normalized = { enrolled: Array.from(new Set((state?.enrolled || []).filter((x) => typeof/", "language": "JavaScript", "kind": "class", "scope": "writeState", "scopeKind": "class"}, {"_type": "tag", "name": "readState", "path": "/home/kavia/workspace/code-generation/eduvantage-immersive-learning-platform-256943-257035/learning_platform_frontend/src/services/enrollmentService.js", "pattern": "/^function readState() {$/", "language": "JavaScript", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "safeParse", "path": "/home/kavia/workspace/code-generation/eduvantage-immersive-learning-platform-256943-257035/learning_platform_frontend/src/services/enrollmentService.js", "pattern": "/^function safeParse(json, fallback = null) {$/", "language": "JavaScript", "kind": "function", "signature": "(json, fallback = null)"}, {"_type": "tag", "name": "safeStringify", "path": "/home/kavia/workspace/code-generation/eduvantage-immersive-learning-platform-256943-257035/learning_platform_frontend/src/services/enrollmentService.js", "pattern": "/^function safeStringify(value) {$/", "language": "JavaScript", "kind": "function", "signature": "(value)"}, {"_type": "tag", "name": "unenroll", "path": "/home/kavia/workspace/code-generation/eduvantage-immersive-learning-platform-256943-257035/learning_platform_frontend/src/services/enrollmentService.js", "pattern": "/^  unenroll(courseId) {$/", "language": "JavaScript", "kind": "method", "signature": "(courseId)", "scope": "enrollmentService", "scopeKind": "class"}, {"_type": "tag", "name": "writeState", "path": "/home/kavia/workspace/code-generation/eduvantage-immersive-learning-platform-256943-257035/learning_platform_frontend/src/services/enrollmentService.js", "pattern": "/^function writeState(state) {$/", "language": "JavaScript", "kind": "function", "signature": "(state)"}], "hash": "f690f5702d4b205fe6df5786c11f8b32", "format-version": 4, "code-base-name": "learning_platform_frontend", "filename": "learning_platform_frontend/src/services/enrollmentService.js", "fields": [{"name": "const normalized = { enrolled: Array.from(new Set((state?.enrolled || []).filter((x) => typeof/", "scope": "writeState.normalized", "scopeKind": "class", "description": "unavailable"}, {"name": "key: STORAGE_KEY,", "scope": "enrollmentService", "scopeKind": "class", "description": "unavailable"}], "revision_history": [{"666": "2f4862c7f835bf489be01e6a2ea5fc0651a81452"}]}