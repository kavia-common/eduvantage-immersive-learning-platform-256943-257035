{"is_source_file": true, "format": "JavaScript", "description": "This file provides a profile service abstraction for getting and updating user profile data and changing passwords. It supports both real backend API calls (configurable via environment variables) and mock simulations for development scenarios. The code includes functions to fetch the current user profile, update profile details (including uploading a new avatar), and change passwords, with appropriate handling for both real and mock environments.", "external_files": ["./apiClient", "./logger"], "external_methods": ["createApiClient", "logger"], "published": ["getCurrentUserProfile", "updateProfile", "changePassword"], "classes": [], "methods": [{"name": "getCurrentUserProfile()", "description": "Fetches the current user profile from backend or returns a mock profile if backend is not configured.", "scope": "", "scopeKind": ""}, {"name": "updateProfile(data = {})", "description": "Updates user profile information, including optional avatar upload. Supports both multipart/form-data and JSON payloads depending on input.", "scope": "", "scopeKind": ""}, {"name": "changePassword(current, next)", "description": "Changes a user's password by calling the backend API or simulating the operation when no backend URL is configured.", "scope": "", "scopeKind": ""}, {"name": "getClient()", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "simulate(result, delay = 250, shouldFail = false)", "scope": "", "scopeKind": "", "description": "unavailable"}], "calls": ["createApiClient", "logger.error", "client.get", "client.request", "client.put", "client.post", "simulate"], "search-terms": ["profileService", "getCurrentUserProfile", "updateProfile", "changePassword", "apiClient", "simulate network", "avatar upload", "mocked profile data"], "state": 2, "file_id": 81, "knowledge_revision": 333, "git_revision": "aaa4fb95d0b1ee3e2b419f6e69fb8b4060a24e1a", "revision_history": [{"225": ""}, {"243": "99fe9ea14137060c85f67df62a502c8c224ab9e4"}, {"244": "99fe9ea14137060c85f67df62a502c8c224ab9e4"}, {"333": "aaa4fb95d0b1ee3e2b419f6e69fb8b4060a24e1a"}], "ctags": [{"_type": "tag", "name": "BACKEND_URL", "path": "/home/kavia/workspace/code-generation/eduvantage-immersive-learning-platform-256943-257035/learning_platform_frontend/src/services/profileService.js", "pattern": "/^const BACKEND_URL = process.env.REACT_APP_BACKEND_URL || process.env.REACT_APP_API_BASE || \"\";$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "changePassword", "path": "/home/kavia/workspace/code-generation/eduvantage-immersive-learning-platform-256943-257035/learning_platform_frontend/src/services/profileService.js", "pattern": "/^export async function changePassword(current, next) {$/", "language": "JavaScript", "kind": "function", "signature": "(current, next)"}, {"_type": "tag", "name": "getClient", "path": "/home/kavia/workspace/code-generation/eduvantage-immersive-learning-platform-256943-257035/learning_platform_frontend/src/services/profileService.js", "pattern": "/^function getClient() {$/", "language": "JavaScript", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "getCurrentUserProfile", "path": "/home/kavia/workspace/code-generation/eduvantage-immersive-learning-platform-256943-257035/learning_platform_frontend/src/services/profileService.js", "pattern": "/^export async function getCurrentUserProfile() {$/", "language": "JavaScript", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "simulate", "path": "/home/kavia/workspace/code-generation/eduvantage-immersive-learning-platform-256943-257035/learning_platform_frontend/src/services/profileService.js", "pattern": "/^function simulate(result, delay = 250, shouldFail = false) {$/", "language": "JavaScript", "kind": "function", "signature": "(result, delay = 250, shouldFail = false)"}, {"_type": "tag", "name": "updateProfile", "path": "/home/kavia/workspace/code-generation/eduvantage-immersive-learning-platform-256943-257035/learning_platform_frontend/src/services/profileService.js", "pattern": "/^export async function updateProfile(data = {}) {$/", "language": "JavaScript", "kind": "function", "signature": "(data = {})"}], "hash": "620ac00a5a00b58182a345da5d970332", "format-version": 4, "code-base-name": "learning_platform_frontend", "filename": "learning_platform_frontend/src/services/profileService.js"}