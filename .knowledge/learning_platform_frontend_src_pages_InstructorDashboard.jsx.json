{"is_source_file": true, "format": "JavaScript (React JSX)", "description": "This file defines the InstructorDashboard React component, providing UI and logic for instructors to manage their profiles and courses, including fetching user data, creating courses, toggling publication status, and rendering dashboards.", "external_files": ["../lib/supabase"], "external_methods": ["supabase.auth.getUser", "supabase.from('profiles').select('*')", "supabase.from('profiles').insert", "supabase.from('profiles').update", "supabase.from('courses').select('*')", "supabase.from('courses').insert", "supabase.from('courses').update"], "published": ["InstructorDashboard"], "classes": [], "methods": [{"name": "initializeDashboard", "description": "Initializes the dashboard by checking user authentication and fetching courses."}, {"name": "checkUser", "description": "Verifies current authenticated user, retrieves or creates profile, and sets role to instructor if unset."}, {"name": "createUserProfile", "description": "Creates a new user profile in the database when it does not exist."}, {"name": "updateUserRole", "description": "Updates the user's role to instructor in their profile."}, {"name": "fetchCourses", "description": "Fetches courses associated with the instructor."}, {"name": "handleAddCourse", "description": "Handles form submission for creating a new course."}, {"name": "togglePublish", "description": "Toggles the published status of a course."}], "calls": ["supabase.auth.getUser", "supabase.from('profiles').select(*)", "supabase.from('profiles').insert", "supabase.from('profiles').update", "supabase.from('courses').select(*)", "supabase.from('courses').insert", "supabase.from('courses').update"], "search-terms": ["InstructorDashboard", "React component", "course creation", "user profile", "course management", "supabase integration", "state management"], "state": 2, "file_id": 207, "knowledge_revision": 664, "git_revision": "9ade845d3af2ab352dc9a976ce6781dd1a9f75db", "ctags": [{"_type": "tag", "name": "InstructorDashboard", "path": "/home/kavia/workspace/code-generation/eduvantage-immersive-learning-platform-256943-257035/learning_platform_frontend/src/pages/InstructorDashboard.jsx", "pattern": "/^const InstructorDashboard = () => {$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "category", "path": "/home/kavia/workspace/code-generation/eduvantage-immersive-learning-platform-256943-257035/learning_platform_frontend/src/pages/InstructorDashboard.jsx", "pattern": "/^        category: newCourse.category,$/", "language": "JavaScript", "kind": "property", "scope": "courseData", "scopeKind": "class"}, {"_type": "tag", "name": "checkUser", "path": "/home/kavia/workspace/code-generation/eduvantage-immersive-learning-platform-256943-257035/learning_platform_frontend/src/pages/InstructorDashboard.jsx", "pattern": "/^  const checkUser = async () => {$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "courseData", "path": "/home/kavia/workspace/code-generation/eduvantage-immersive-learning-platform-256943-257035/learning_platform_frontend/src/pages/InstructorDashboard.jsx", "pattern": "/^      const courseData = {$/", "language": "JavaScript", "kind": "class"}, {"_type": "tag", "name": "createUserProfile", "path": "/home/kavia/workspace/code-generation/eduvantage-immersive-learning-platform-256943-257035/learning_platform_frontend/src/pages/InstructorDashboard.jsx", "pattern": "/^  const createUserProfile = async (authUser) => {$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "description", "path": "/home/kavia/workspace/code-generation/eduvantage-immersive-learning-platform-256943-257035/learning_platform_frontend/src/pages/InstructorDashboard.jsx", "pattern": "/^        description: newCourse.description,$/", "language": "JavaScript", "kind": "property", "scope": "courseData", "scopeKind": "class"}, {"_type": "tag", "name": "duration", "path": "/home/kavia/workspace/code-generation/eduvantage-immersive-learning-platform-256943-257035/learning_platform_frontend/src/pages/InstructorDashboard.jsx", "pattern": "/^        duration: '8 weeks',$/", "language": "JavaScript", "kind": "property", "scope": "courseData", "scopeKind": "class"}, {"_type": "tag", "name": "fetchCourses", "path": "/home/kavia/workspace/code-generation/eduvantage-immersive-learning-platform-256943-257035/learning_platform_frontend/src/pages/InstructorDashboard.jsx", "pattern": "/^  const fetchCourses = async () => {$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "handleAddCourse", "path": "/home/kavia/workspace/code-generation/eduvantage-immersive-learning-platform-256943-257035/learning_platform_frontend/src/pages/InstructorDashboard.jsx", "pattern": "/^  const handleAddCourse = async (e) => {$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "initializeDashboard", "path": "/home/kavia/workspace/code-generation/eduvantage-immersive-learning-platform-256943-257035/learning_platform_frontend/src/pages/InstructorDashboard.jsx", "pattern": "/^  const initializeDashboard = async () => {$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "instructor_id", "path": "/home/kavia/workspace/code-generation/eduvantage-immersive-learning-platform-256943-257035/learning_platform_frontend/src/pages/InstructorDashboard.jsx", "pattern": "/^        instructor_id: authUser.id,$/", "language": "JavaScript", "kind": "property", "scope": "courseData", "scopeKind": "class"}, {"_type": "tag", "name": "is_published", "path": "/home/kavia/workspace/code-generation/eduvantage-immersive-learning-platform-256943-257035/learning_platform_frontend/src/pages/InstructorDashboard.jsx", "pattern": "/^        is_published: false$/", "language": "JavaScript", "kind": "property", "scope": "courseData", "scopeKind": "class"}, {"_type": "tag", "name": "level", "path": "/home/kavia/workspace/code-generation/eduvantage-immersive-learning-platform-256943-257035/learning_platform_frontend/src/pages/InstructorDashboard.jsx", "pattern": "/^        level: newCourse.level,$/", "language": "JavaScript", "kind": "property", "scope": "courseData", "scopeKind": "class"}, {"_type": "tag", "name": "missingColumn", "path": "/home/kavia/workspace/code-generation/eduvantage-immersive-learning-platform-256943-257035/learning_platform_frontend/src/pages/InstructorDashboard.jsx", "pattern": "/^          const missingColumn = error.message.match(\\/column \\\\\"([^\\\\\"]+)\\\\\"\\/)?.[1];$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "price", "path": "/home/kavia/workspace/code-generation/eduvantage-immersive-learning-platform-256943-257035/learning_platform_frontend/src/pages/InstructorDashboard.jsx", "pattern": "/^        price: parseFloat(newCourse.price) || 0,$/", "language": "JavaScript", "kind": "property", "scope": "courseData", "scopeKind": "class"}, {"_type": "tag", "name": "rating", "path": "/home/kavia/workspace/code-generation/eduvantage-immersive-learning-platform-256943-257035/learning_platform_frontend/src/pages/InstructorDashboard.jsx", "pattern": "/^        rating: 0,$/", "language": "JavaScript", "kind": "property", "scope": "courseData", "scopeKind": "class"}, {"_type": "tag", "name": "setCourses", "path": "/home/kavia/workspace/code-generation/eduvantage-immersive-learning-platform-256943-257035/learning_platform_frontend/src/pages/InstructorDashboard.jsx", "pattern": "/^  const [courses, setCourses] = useState([]);$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "setLoading", "path": "/home/kavia/workspace/code-generation/eduvantage-immersive-learning-platform-256943-257035/learning_platform_frontend/src/pages/InstructorDashboard.jsx", "pattern": "/^  const [loading, setLoading] = useState(true);$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "setNewCourse", "path": "/home/kavia/workspace/code-generation/eduvantage-immersive-learning-platform-256943-257035/learning_platform_frontend/src/pages/InstructorDashboard.jsx", "pattern": "/^  const [newCourse, setNewCourse] = useState({$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "setShowAddCourse", "path": "/home/kavia/workspace/code-generation/eduvantage-immersive-learning-platform-256943-257035/learning_platform_frontend/src/pages/InstructorDashboard.jsx", "pattern": "/^  const [showAddCourse, setShowAddCourse] = useState(false);$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "setUser", "path": "/home/kavia/workspace/code-generation/eduvantage-immersive-learning-platform-256943-257035/learning_platform_frontend/src/pages/InstructorDashboard.jsx", "pattern": "/^  const [user, setUser] = useState(null);$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "source_url", "path": "/home/kavia/workspace/code-generation/eduvantage-immersive-learning-platform-256943-257035/learning_platform_frontend/src/pages/InstructorDashboard.jsx", "pattern": "/^        source_url: newCourse.source_url,$/", "language": "JavaScript", "kind": "property", "scope": "courseData", "scopeKind": "class"}, {"_type": "tag", "name": "thumbnail_url", "path": "/home/kavia/workspace/code-generation/eduvantage-immersive-learning-platform-256943-257035/learning_platform_frontend/src/pages/InstructorDashboard.jsx", "pattern": "/^        thumbnail_url: newCourse.thumbnail_url, \\/\\/ Using thumbnail_url$/", "language": "JavaScript", "kind": "property", "scope": "courseData", "scopeKind": "class"}, {"_type": "tag", "name": "title", "path": "/home/kavia/workspace/code-generation/eduvantage-immersive-learning-platform-256943-257035/learning_platform_frontend/src/pages/InstructorDashboard.jsx", "pattern": "/^        title: newCourse.title,$/", "language": "JavaScript", "kind": "property", "scope": "courseData", "scopeKind": "class"}, {"_type": "tag", "name": "togglePublish", "path": "/home/kavia/workspace/code-generation/eduvantage-immersive-learning-platform-256943-257035/learning_platform_frontend/src/pages/InstructorDashboard.jsx", "pattern": "/^  const togglePublish = async (courseId, currentStatus) => {$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "total_lessons", "path": "/home/kavia/workspace/code-generation/eduvantage-immersive-learning-platform-256943-257035/learning_platform_frontend/src/pages/InstructorDashboard.jsx", "pattern": "/^        total_lessons: 0,$/", "language": "JavaScript", "kind": "property", "scope": "courseData", "scopeKind": "class"}, {"_type": "tag", "name": "total_students", "path": "/home/kavia/workspace/code-generation/eduvantage-immersive-learning-platform-256943-257035/learning_platform_frontend/src/pages/InstructorDashboard.jsx", "pattern": "/^        total_students: 0,$/", "language": "JavaScript", "kind": "property", "scope": "courseData", "scopeKind": "class"}, {"_type": "tag", "name": "updateUserRole", "path": "/home/kavia/workspace/code-generation/eduvantage-immersive-learning-platform-256943-257035/learning_platform_frontend/src/pages/InstructorDashboard.jsx", "pattern": "/^  const updateUserRole = async (userId, role) => {$/", "language": "JavaScript", "kind": "constant"}], "hash": "cbb433503ae3dcd082e0fd492dc86a3b", "format-version": 4, "code-base-name": "learning_platform_frontend", "filename": "learning_platform_frontend/src/pages/InstructorDashboard.jsx", "fields": [{"name": "category: newCourse.category,", "scope": "courseData", "scopeKind": "class", "description": "unavailable"}, {"name": "description: newCourse.description,", "scope": "courseData", "scopeKind": "class", "description": "unavailable"}, {"name": "duration: '8 weeks',", "scope": "courseData", "scopeKind": "class", "description": "unavailable"}, {"name": "instructor_id: authUser.id,", "scope": "courseData", "scopeKind": "class", "description": "unavailable"}, {"name": "is_published: false", "scope": "courseData", "scopeKind": "class", "description": "unavailable"}, {"name": "level: newCourse.level,", "scope": "courseData", "scopeKind": "class", "description": "unavailable"}, {"name": "price: parseFloat(newCourse.price) || 0,", "scope": "courseData", "scopeKind": "class", "description": "unavailable"}, {"name": "rating: 0,", "scope": "courseData", "scopeKind": "class", "description": "unavailable"}, {"name": "source_url: newCourse.source_url,", "scope": "courseData", "scopeKind": "class", "description": "unavailable"}, {"name": "thumbnail_url: newCourse.thumbnail_url, \\/\\/ Using thumbnail_url", "scope": "courseData", "scopeKind": "class", "description": "unavailable"}, {"name": "title: newCourse.title,", "scope": "courseData", "scopeKind": "class", "description": "unavailable"}, {"name": "total_lessons: 0,", "scope": "courseData", "scopeKind": "class", "description": "unavailable"}, {"name": "total_students: 0,", "scope": "courseData", "scopeKind": "class", "description": "unavailable"}], "revision_history": [{"664": "9ade845d3af2ab352dc9a976ce6781dd1a9f75db"}]}